import sdk from "@api/sdk";
const serverInfo = <%-JSON.stringify(webapiGroup.serverInfo) %>;
const controllerName = "<%-webapiGroup.name %>";

<% webapiGroup.apis.forEach(apiItem=>{ %>

/**
 *
 * <%=apiItem.comment%>
 *
 */
async function <%=apiItem.tplGetMethodName()%>(
    <% apiItem.requestParam.forEach(paramItem=>{ %>
        <%=paramItem.name%>:<%=paramItem.tplGenInterfaceName()%>,
    <% }) %>
):Promise< <%= apiItem.tplGetResponseInterfaceName() %> > {

  const result = await sdk.<%=apiItem.tplGetMethodType()%> <%-apiItem.responseSchema? "<"+Util.getTypeNameFromSchema(apiItem.responseSchema) +">":""%>(
  `<%-apiItem.url.replace(/{/g,'${')%><%-getQueryParam(apiItem.requestParam)%>`,
    {
    <% apiItem.requestParam.forEach(paramItem=>{ %>
        <% if (paramItem.isInBody) { %>
        <%=['string','integer','number','date','file','array','boolean'].includes(paramItem.jsonSchema.type)?"":"..."%><%=paramItem.name%>,
        <% }  %>
    <% }) %>
    },
    {
      <% apiItem.requestParam.forEach(paramItem=>{ %>
          <% if (paramItem.isInQuery) { %>
          <%=['string','integer','number','date','file','array','boolean'].includes(paramItem.jsonSchema.type)?"":"..."%><%=paramItem.name%>,
          <% }  %>
      <% }) %>
      }

,
{serverInfo,controllerName});
  return  result.data;
}
<% }) %>


export default {
<% webapiGroup.apis.forEach(apiItem=>{ %>
    <%=apiItem.name%>,
<% }) %>
};



<%-tsDefinded%>

// create by moon https://github.com/creasy2010/moon
